<!DOCTYPE html>
<html lang="en">
<head>
Â Â <meta charset="UTF-8" />
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â Â <title>Link Cleaner</title>
Â Â <link rel="stylesheet" href="style.css" />
</head>
<body>
Â Â <h1><span class="emoji">ğŸ§¼</span> Link Cleaner</h1>
Â Â <p>Paste a URL to remove tracking parameters like <code>utm_source</code>, <code>si</code>, or <code>fbclid</code>.</p>

Â Â <input type="text" id="urlInput" placeholder="Paste URL here" />

Â Â <button onclick="cleanLink()">Clean Link</button>

Â Â <textarea id="output" readonly placeholder="Clean link will appear here..."></textarea>
Â Â <button onclick="copyResult()">Copy to Clipboard</button>

Â Â <p class="error" id="errorBox" style="display: none;"></p>

Â Â <div class="note">
Â Â Â Â âœ… Works best with links from:
Â Â Â Â <ul>
Â Â Â Â Â Â <li>YouTube (preserves <code>v</code>, <code>t</code>, <code>list</code>)</li>
Â Â Â Â Â Â <li>News articles (e.g., CNN, NYTimes, etc.)</li>
Â Â Â Â Â Â <li>Online stores (Amazon, etc. to remove affiliate tags)</li>
Â Â Â Â </ul>
Â Â Â Â âŒ Doesn't support shortened URLs like <code>bit.ly</code> unless expanded.<br />
Â Â Â Â <em>All processing is localâ€”nothing is sent anywhere.</em>
Â Â </div>

Â Â <script>
Â Â Â Â function cleanLink() {
Â Â Â Â Â Â const input = document.getElementById("urlInput").value.trim();
Â Â Â Â Â Â const outputBox = document.getElementById("output");
Â Â Â Â Â Â const errorBox = document.getElementById("errorBox");
Â Â Â Â Â Â errorBox.style.display = 'none';

Â Â Â Â Â Â if (!input.startsWith("http")) {
Â Â Â Â Â Â Â Â errorBox.textContent = "âš ï¸ That link is missing http:// or https:// â€” please paste the full URL.";
Â Â Â Â Â Â Â Â errorBox.style.color = 'red';
Â Â Â Â Â Â Â Â errorBox.style.display = 'block';
Â Â Â Â Â Â Â Â outputBox.value = "";
Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â }

Â Â Â Â Â Â try {
Â Â Â Â Â Â Â Â const url = new URL(input);

Â Â Â Â Â Â Â Â const host = url.hostname;
Â Â Â Â Â Â Â Â let keepParams = [];

Â Â Â Â Â Â Â Â if (host.includes("youtube.com") || host.includes("youtu.be")) {
Â Â Â Â Â Â Â Â Â Â keepParams = ['v', 't', 'list'];
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â if (host.includes("bit.ly") || host.includes("tinyurl")) {
Â Â Â Â Â Â Â Â Â Â errorBox.textContent = "âš ï¸ Shortened URLs like bit.ly must be expanded first.";
Â Â Â Â Â Â Â Â Â Â errorBox.style.color = 'red';
Â Â Â Â Â Â Â Â Â Â errorBox.style.display = 'block';
Â Â Â Â Â Â Â Â Â Â outputBox.value = "";
Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â const originalUrl = url.toString();

Â Â Â Â Â Â Â Â [...url.searchParams.keys()].forEach(param => {
Â Â Â Â Â Â Â Â Â Â if (!keepParams.includes(param)) {
Â Â Â Â Â Â Â Â Â Â Â Â url.searchParams.delete(param);
Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });

Â Â Â Â Â Â Â Â const cleanedUrl = url.toString();
Â Â Â Â Â Â Â Â outputBox.value = cleanedUrl;

Â Â Â Â Â Â Â Â if (cleanedUrl === originalUrl) {
Â Â Â Â Â Â Â Â Â Â errorBox.textContent = "âœ… This link has no tracking tags. You're good!";
Â Â Â Â Â Â Â Â Â Â errorBox.style.color = 'green';
Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â errorBox.textContent = "ğŸ§¼ Cleaned! Tracking tags removed.";
Â Â Â Â Â Â Â Â Â Â errorBox.style.color = 'blue';
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â errorBox.style.display = 'block';

Â Â Â Â Â Â } catch (err) {
Â Â Â Â Â Â Â Â outputBox.value = "";
Â Â Â Â Â Â Â Â errorBox.textContent = "âŒ Invalid URL. Please try again.";
Â Â Â Â Â Â Â Â errorBox.style.color = 'red';
Â Â Â Â Â Â Â Â errorBox.style.display = 'block';
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â function copyResult() {
Â Â Â Â Â Â const output = document.getElementById("output");
Â Â Â Â Â Â output.select();
Â Â Â Â Â Â document.execCommand("copy");
Â Â Â Â Â Â alert("Link copied to clipboard.");
Â Â Â Â }
Â Â </script>
</body>
</html>