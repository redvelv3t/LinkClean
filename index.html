<!DOCTYPE html>
<html lang="en">
<head>
Â Â <meta charset="UTF-8" />
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â Â <title>Simple Link Cleaner</title>
Â Â <style>
Â Â Â Â body {
Â Â Â Â Â Â font-family: system-ui, sans-serif;
Â Â Â Â Â Â max-width: 600px;
Â Â Â Â Â Â margin: 40px auto;
Â Â Â Â Â Â padding: 20px;
Â Â Â Â Â Â background: #fff;
Â Â Â Â Â Â color: #222;
Â Â Â Â }

Â Â Â Â h1 {
Â Â Â Â Â Â font-size: 1.4em;
Â Â Â Â Â Â margin-bottom: 10px;
Â Â Â Â }

Â Â Â Â input, textarea, button {
Â Â Â Â Â Â width: 100%;
Â Â Â Â Â Â padding: 10px;
Â Â Â Â Â Â margin: 10px 0;
Â Â Â Â Â Â font-size: 1em;
Â Â Â Â Â Â box-sizing: border-box;
Â Â Â Â }

Â Â Â Â textarea {
Â Â Â Â Â Â resize: none;
Â Â Â Â Â Â height: 80px;
Â Â Â Â }

Â Â Â Â button {
Â Â Â Â Â Â background-color: #333;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â cursor: pointer;
Â Â Â Â }

Â Â Â Â button:hover {
Â Â Â Â Â Â background-color: #111;
Â Â Â Â }

Â Â Â Â .note {
Â Â Â Â Â Â font-size: 0.8em;
Â Â Â Â Â Â color: #666;
Â Â Â Â }

Â Â Â Â .error {
Â Â Â Â Â Â color: red;
Â Â Â Â Â Â font-size: 0.9em;
Â Â Â Â }

Â Â Â Â @media (max-width: 640px) {
Â Â Â Â Â Â body {
Â Â Â Â Â Â Â Â margin: 20px 10px;
Â Â Â Â Â Â Â Â padding: 10px;
Â Â Â Â Â Â }
Â Â Â Â }
Â Â </style>
</head>
<body>
Â Â <h1>ğŸ§¼ Link Cleaner</h1>
Â Â <p>Paste a URL to remove tracking parameters like <code>utm_source</code>, <code>si</code>, or <code>fbclid</code>.</p>

Â Â <input type="text" id="urlInput" placeholder="Paste URL here" />

Â Â <button onclick="cleanLink()">Clean Link</button>

Â Â <textarea id="output" readonly placeholder="Clean link will appear here..."></textarea>
Â Â <button onclick="copyResult()">Copy to Clipboard</button>

Â Â <p class="error" id="errorBox" style="display: none;"></p>

Â Â <p class="note">
Â Â Â Â âœ… Works best with links from:
Â Â Â Â <ul class="note">
Â Â Â Â Â Â <li>YouTube (preserves <code>v</code>, <code>t</code>, <code>list</code>)</li>
Â Â Â Â Â Â <li>News articles (e.g., CNN, NYTimes, etc.)</li>
Â Â Â Â Â Â <li>Online stores (Amazon, etc. to remove affiliate tags)</li>
Â Â Â Â </ul>
Â Â Â Â âŒ Doesn't support shortened URLs like <code>bit.ly</code> unless expanded.<br />
Â Â Â Â All processing is localâ€”nothing is sent anywhere.
Â Â </p>

Â Â <script>
Â Â Â Â function cleanLink() {
Â Â Â Â Â Â const input = document.getElementById("urlInput").value.trim();
Â Â Â Â Â Â const outputBox = document.getElementById("output");
Â Â Â Â Â Â const errorBox = document.getElementById("errorBox");
Â Â Â Â Â Â errorBox.style.display = 'none';

Â Â Â Â Â Â if (!input.startsWith("http")) {
Â Â Â Â Â Â Â Â errorBox.textContent = "Please enter a full URL starting with http or https.";
Â Â Â Â Â Â Â Â errorBox.style.display = 'block';
Â Â Â Â Â Â Â Â outputBox.value = "";
Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â }

Â Â Â Â Â Â try {
Â Â Â Â Â Â Â Â const url = new URL(input);

Â Â Â Â Â Â Â Â // Allowed query parameters by hostname
Â Â Â Â Â Â Â Â const host = url.hostname;
Â Â Â Â Â Â Â Â let keepParams = [];

Â Â Â Â Â Â Â Â if (host.includes("youtube.com") || host.includes("youtu.be")) {
Â Â Â Â Â Â Â Â Â Â keepParams = ['v', 't', 'list'];
Â Â Â Â Â Â Â Â } else if (host.includes("twitter.com") || host.includes("x.com")) {
Â Â Â Â Â Â Â Â Â Â keepParams = []; // clean everything
Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â keepParams = []; // default behavior: wipe all
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â [...url.searchParams.keys()].forEach(param => {
Â Â Â Â Â Â Â Â Â Â if (!keepParams.includes(param)) {
Â Â Â Â Â Â Â Â Â Â Â Â url.searchParams.delete(param);
Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });

Â Â Â Â Â Â Â Â outputBox.value = url.toString();
Â Â Â Â Â Â } catch (err) {
Â Â Â Â Â Â Â Â outputBox.value = "";
Â Â Â Â Â Â Â Â errorBox.textContent = "Invalid URL. Please try again.";
Â Â Â Â Â Â Â Â errorBox.style.display = 'block';
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â function copyResult() {
Â Â Â Â Â Â const output = document.getElementById("output");
Â Â Â Â Â Â output.select();
Â Â Â Â Â Â document.execCommand("copy");
Â Â Â Â Â Â alert("Link copied to clipboard.");
Â Â Â Â }
Â Â </script>
</body>
</html>
